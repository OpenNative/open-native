<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>Extending MainApplication &amp; AppDelegate</title><meta name="description" content="Documentation for Extending MainApplication &amp; AppDelegate"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" type="text/css" href="/assets/normalize.97087844201bf696.css">
<link rel="stylesheet" type="text/css" href="/assets/light.146e7c3d06d34520.css">
<link rel="stylesheet" type="text/css" href="/assets/dark.e5addf511eda33f2.css">
<link rel="stylesheet" type="text/css" href="/assets/style.c1e8b00faa060413.css"><script>var DOCGEN_TIMESTAMP="1689275384";var BASE_PATH="/";window.onload=function(){document.body.classList.remove("preload")};document.addEventListener("DOMContentLoaded",function(){const a=document.querySelector(`.site-nav a[href="${document.location.pathname}"]`);if(a){const b=a.closest("li");if(b)b.classList.add("active");const c=a.closest("details");if(c){c.setAttribute("open",true)}}});function setColor(){const a=localStorage.getItem("docgen-color");if(a==="dark"){document.documentElement.classList.remove("light");document.documentElement.classList.add("dark")}else{document.documentElement.classList.remove("dark");document.documentElement.classList.add("light")}}setColor()</script><link rel="stylesheet" type="text/css" href="/custom.css" />
</head><body class="preload"><label for="menu-toggle-switch" class="menu-toggle-button">☰</label><input type="checkbox" id="menu-toggle-switch" value="0"><div class="page"><div class="header"><div class="logo"><a href="/"><img src="/logo.png" alt="Open Native logo"></a><h2 class="project-title"><a href="/">Open Native</a><span class="project-subtitle">DOCS</span></h2></div><div class="search"><form id="search-form"><input type="text" id="search-box" autocomplete="off" placeholder="Search..."><span class="search-icon">S</span><ul id="search-results"></ul></form></div><div class="header-dummy-right"></div></div><div class="container"><div class="sidebar-left"><nav class="site-nav"><ul class="tree"><li><a href="/installation">Installation</a></li><li><a href="/install-module">Installing native modules</a></li><li><a href="/finding-modules">Searching for native modules</a></li><li><a href="/extending-main-application-and-app-delegate">Extending MainApplication &amp; AppDelegate</a></li><li><a href="/reference">API Reference</a></li><li><a href="/troubleshooting">Troubleshooting</a></li></ul></nav><span id="light-dark-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" id="dark-mode-icon" viewBox="0 0 20 20" fill="currentColor"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" id="light-mode-icon" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path></svg></span></div><div class="docgen-content"><h1 id="extending-mainapplication-appdelegate">Extending MainApplication &amp; AppDelegate</h1>
<p>There are some React Native modules that will require you to extend <code>MainApplication</code> on android or extend <code>AppDelegate</code> on iOS.</p>
<h2 id="extending-mainapplication-on-android">Extending MainApplication on Android</h2>
<p>This is usually required by native modules that want to do some background work when app is in killed state. For example a native module that wakes up the app when user taps on a Notification.</p>
<p>Create a <code>application.android.ts</code> at the root of your project:</p>
<pre class="code">
<code class="language-js"><span class="comment block js"><span class="punctuation definition comment js">/*</span> eslint-disable @typescript-eslint/no-unused-vars <span class="punctuation definition comment js">*/</span></span>
@<span class="meta function-call js"><span class="variable function js">NativeClass</span><span class="meta group js"><span class="punctuation section group js">(</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
@<span class="meta function-call js"><span class="variable function js">JavaProxy</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>com.tns.NativeScriptApplication<span class="punctuation definition string end js">&#39;</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
<span class="meta class js"><span class="storage type class js">class</span> <span class="entity name class js">Application</span> <span class="storage modifier extends js">extends</span> <span class="entity other inherited-class js">com</span><span class="punctuation accessor js">.</span><span class="entity other inherited-class js">facebook</span><span class="punctuation accessor js">.</span><span class="entity other inherited-class js">react</span><span class="punctuation accessor js">.</span><span class="entity other inherited-class js">ReactCustomApplication</span> <span class="meta class js"><span class="meta block js"><span class="punctuation section block js">{</span></span></span></span><span class="meta class js"><span class="meta block js">
  public <span class="meta function declaration js"><span class="entity name function js">onCreate</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span></span>: void {
    super.<span class="meta function declaration js"><span class="entity name function js">onCreate</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span></span>;
  <span class="punctuation section block js">}</span></span></span>

  <span class="variable other readwrite js">public</span> <span class="meta function-call js"><span class="variable function js">attachBaseContext</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="variable other readwrite js">baseContext</span>: <span class="variable other object js">android</span><span class="punctuation accessor js">.</span><span class="meta property object js">content</span><span class="punctuation accessor js">.</span><span class="meta property object js">Context</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span> <span class="meta block js"><span class="punctuation section block js">{</span>
    <span class="variable language super js">super</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">attachBaseContext</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="variable other readwrite js">baseContext</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
  <span class="punctuation section block js">}</span></span>
}
</code></pre>
<p>Open your project’s <code>webpack.config.js</code> file and add the custom NativeScriptApplication entry.</p>
<pre class="code">
<code class="language-js"><span class="variable other object js">webpack</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">chainWebpack</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="meta function declaration js"><span class="punctuation section group begin js">(</span><span class="variable parameter function js">config</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span><span class="storage type function arrow js">=&gt;</span></span> <span class="meta block js"><span class="punctuation section block js">{</span>
  <span class="variable other object js">config</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">entry</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>application<span class="punctuation definition string end js">&#39;</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="support function dom js">add</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>./application.android<span class="punctuation definition string end js">&#39;</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
<span class="punctuation section block js">}</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
</code></pre>
<h2 id="extending-appdelegate-on-ios">Extending AppDelegate on iOS</h2>
<p>As an example <code>react-native-background-fetch</code> module requires that we call <code>TSBackgroundFetch.sharedInstance().didFinishLaunching()</code> when our app launches in AppDelegate. Here’s how we can achieve this in NativeScript.</p>
<div class="tabgroup"><ul class="tab-list" role="tablist"><li class= role="presentation"><label class="active" id="typescript" title="app.ts" role="tab">app.ts</label></li><li class= role="presentation"><label class="" id="javascript" title="app.js" role="tab">app.js</label></li></ul><div class="tab-panel active" data-tab-id="typescript"><pre class="code">
<code class="language-js"><span class="meta import js"><span class="keyword control import-export js">import</span> <span class="meta block js"><span class="punctuation section block js">{</span> <span class="variable other readwrite js">Application</span> <span class="punctuation section block js">}</span></span> <span class="keyword control import-export js">from</span> <span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>@nativescript/core<span class="punctuation definition string end js">&#39;</span></span></span><span class="punctuation terminator statement js">;</span>

<span class="meta conditional js"><span class="keyword control conditional js">if</span> <span class="meta group js"><span class="punctuation section group js">(</span><span class="support type object node js">global</span><span class="punctuation accessor js">.</span><span class="meta property object js">isIOS</span><span class="punctuation section group js">)</span></span> <span class="meta block js"><span class="punctuation section block js">{</span>
  @<span class="meta function-call js"><span class="variable function js">NativeClass</span><span class="meta group js"><span class="punctuation section group js">(</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
  @<span class="meta function-call js"><span class="variable function js">ObjCClass</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="variable other readwrite js">UIApplicationDelegate</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
  <span class="meta class js"><span class="storage type class js">class</span> <span class="entity name class js">MyDelegate</span> <span class="storage modifier extends js">extends</span> <span class="entity other inherited-class js">UIResponder</span> <span class="entity other inherited-class js">implements</span> <span class="entity other inherited-class js">UIApplicationDelegate</span> <span class="meta class js"><span class="meta block js"><span class="punctuation section block js">{</span></span></span></span><span class="meta class js"><span class="meta block js">
    <span class="meta function declaration js"><span class="entity name function js">applicationDidFinishLaunchingWithOptions</span><span class="punctuation section group begin js">(</span><span class="variable parameter function js">application</span>: <span class="variable parameter function js">UIApplication</span><span class="punctuation separator parameter function js">,</span> <span class="variable parameter function js">launchOptions</span>: <span class="variable parameter function js">NSDictionary</span>&lt;<span class="variable parameter function js">string</span><span class="punctuation separator parameter function js">,</span> <span class="variable parameter function js">any</span>&gt;<span class="punctuation section group end js">)</span></span>: boolean {
      <span class="comment line double-slash js"><span class="punctuation definition comment js">//</span>@ts-ignore
</span>      TSBackgroundFetch.sharedInstance.<span class="meta function declaration js"><span class="entity name function js">didFinishLaunching</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span></span>;
      return true;
    <span class="punctuation section block js">}</span></span></span>
  </span><span class="meta block js"><span class="punctuation section block js">}</span></span></span>
  <span class="support class js">Application</span><span class="punctuation accessor js">.</span><span class="meta property object js">ios</span><span class="punctuation accessor js">.</span><span class="meta property object js">delegate</span> <span class="keyword operator assignment js">=</span> <span class="variable other readwrite js">MyDelegate</span><span class="punctuation terminator statement js">;</span>
}
</code></pre>
</div><div class="tab-panel " data-tab-id="javascript"><pre class="code">
<code class="language-js"><span class="meta import js"><span class="keyword control import-export js">import</span> <span class="meta block js"><span class="punctuation section block js">{</span> <span class="variable other readwrite js">Application</span> <span class="punctuation section block js">}</span></span> <span class="keyword control import-export js">from</span> <span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>@nativescript/core<span class="punctuation definition string end js">&#39;</span></span></span><span class="punctuation terminator statement js">;</span>

<span class="meta conditional js"><span class="keyword control conditional js">if</span> <span class="meta group js"><span class="punctuation section group js">(</span><span class="support type object node js">global</span><span class="punctuation accessor js">.</span><span class="meta property object js">isIOS</span><span class="punctuation section group js">)</span></span> <span class="meta block js"><span class="punctuation section block js">{</span>
  <span class="storage type js">const</span> <span class="variable other readwrite js">MyDelegate</span> <span class="keyword operator assignment js">=</span> <span class="variable other object js">UIResponder</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">extend</span><span class="meta group js"><span class="punctuation section group js">(</span>
    <span class="meta object-literal js"><span class="punctuation section block js">{</span>
      <span class="meta function declaration js"><span class="entity name function js">applicationDidFinishLaunchingWithOptions</span><span class="punctuation section group begin js">(</span><span class="variable parameter function js">application</span><span class="punctuation separator parameter function js">,</span> <span class="variable parameter function js">launchOptions</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
        <span class="support class js">TSBackgroundFetch</span><span class="punctuation accessor js">.</span><span class="meta property object js">sharedInstance</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">didFinishLaunching</span><span class="meta group js"><span class="punctuation section group js">(</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
        <span class="keyword control flow js">return</span> <span class="constant language boolean true js">true</span><span class="punctuation terminator statement js">;</span>
      <span class="punctuation section block js">}</span></span><span class="punctuation separator comma js">,</span>
    <span class="punctuation section block js">}</span></span><span class="punctuation separator comma js">,</span>
    <span class="meta object-literal js"><span class="punctuation section block js">{</span>
      <span class="meta object-literal key js">name</span><span class="punctuation separator key-value js">:</span> <span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>MyDelegate<span class="punctuation definition string end js">&#39;</span></span><span class="punctuation separator comma js">,</span>
      <span class="meta object-literal key js">protocols</span><span class="punctuation separator key-value js">:</span> <span class="meta sequence js"><span class="punctuation section brackets js">[</span><span class="variable other readwrite js">UIApplicationDelegate</span><span class="punctuation section brackets js">]</span></span><span class="punctuation separator comma js">,</span>
    <span class="punctuation section block js">}</span></span>
  </span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>

  <span class="support class js">Application</span><span class="punctuation accessor js">.</span><span class="meta property object js">ios</span><span class="punctuation accessor js">.</span><span class="meta property object js">delegate</span> <span class="keyword operator assignment js">=</span> <span class="variable other readwrite js">MyDelegate</span><span class="punctuation terminator statement js">;</span>
</span><span class="meta block js"><span class="punctuation section block js">}</span></span></span>
</code></pre>
</div></div></div><div class="sidebar-right"><a class="edit-link" href="https://github.com/OpenNative/open-native/tree/main/docs_md/docs_md/extending-main-application-and-app-delegate.md">Edit this page</a><div class="page-nav" id="page-nav"><p class="page-nav-header">On this page</p><ul><li class="page-nav-level-1"><a href="#extending-mainapplication-appdelegate">Extending MainApplication &amp; AppDelegate</a></li><li class="page-nav-level-2"><a href="#extending-mainapplication-on-android">Extending MainApplication on Android</a></li><li class="page-nav-level-2"><a href="#extending-appdelegate-on-ios">Extending AppDelegate on iOS</a></li></ul></div></div></div></div><footer><div class="groups"></div><div class="copyright">Copyright © 2023 Ammar Ahmed</div></footer><script id="elasticlunr.min.js" async defer type="text/javascript" src="/assets/elasticlunr.min.d5632d4ce358acab.js"></script>
<script id="app.js" async defer type="text/javascript" src="/assets/app.f93b0a1c15e882d9.js"></script></body></html>